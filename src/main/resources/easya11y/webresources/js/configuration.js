import{o as e,j as s,l as a,m as l,x as n,E as c,L as i,A as r,F as t,z as d,C as o,G as h,H as m,I as u,D as x,B as p,T as f,R as g,N as j}from"./globals-BigXdOGl.js";import{n as y,g as b,i as v,j as k,H as w,J as S,L as N,S as C,v as E,w as F,x as A,y as P,I as R}from"./label-CMjTWxBL.js";
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),L=e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),q=e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),D=e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),M=e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),O=s.forwardRef((({className:e,...s},n)=>a.jsx("textarea",{className:l("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s})));
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */O.displayName="Textarea";var G="Switch",[W,I]=b(G),[T,_]=W(G),z=s.forwardRef(((e,l)=>{const{__scopeSwitch:c,name:i,checked:r,defaultChecked:t,required:d,disabled:o,value:h="on",onCheckedChange:m,form:u,...x}=e,[p,f]=s.useState(null),g=n(l,(e=>f(e))),j=s.useRef(!1),b=!p||(u||!!p.closest("form")),[w,S]=y({prop:r,defaultProp:t??!1,onChange:m,caller:G});return a.jsxs(T,{scope:c,checked:w,disabled:o,children:[a.jsx(v.button,{type:"button",role:"switch","aria-checked":w,"aria-required":d,"data-state":X(w),"data-disabled":o?"":void 0,disabled:o,value:h,...x,ref:g,onClick:k(e.onClick,(e=>{S((e=>!e)),b&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())}))}),b&&a.jsx(U,{control:p,bubbles:!j.current,name:i,value:h,checked:w,required:d,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})}));z.displayName=G;var H="SwitchThumb",B=s.forwardRef(((e,s)=>{const{__scopeSwitch:l,...n}=e,c=_(H,l);return a.jsx(v.span,{"data-state":X(c.checked),"data-disabled":c.disabled?"":void 0,...n,ref:s})}));B.displayName=H;var U=s.forwardRef((({__scopeSwitch:e,control:l,checked:c,bubbles:i=!0,...r},t)=>{const d=s.useRef(null),o=n(d,t),h=w(c),m=S(l);return s.useEffect((()=>{const e=d.current;if(!e)return;const s=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(s,"checked").set;if(h!==c&&a){const s=new Event("click",{bubbles:i});a.call(e,c),e.dispatchEvent(s)}}),[h,c,i]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:c,...r,tabIndex:-1,ref:o,style:{...r.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})}));function X(e){return e?"checked":"unchecked"}U.displayName="SwitchBubbleInput";var $=z,J=B;const K=s.forwardRef((({className:e,...s},n)=>a.jsx($,{className:l("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:n,children:a.jsx(J,{className:l("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})));function Q(){const[e,l]=s.useState({wcagVersion:"2.2",wcagLevel:"AA",emailEnabled:!1,emailRecipients:"",emailFrom:"noreply@easya11y.com",emailOnViolations:!0,emailDigest:!0,scanScheduleEnabled:!1,scanScheduleCron:"0 0 9 * * MON",scheduleFrequency:"weekly",serverSideScan:!0,scanPaths:"",excludePaths:""}),[n,f]=s.useState(!0),[g,j]=s.useState(!1),[y,b]=s.useState(null);s.useEffect((()=>{v()}),[]),s.useEffect((()=>{if("success"===(null==y?void 0:y.type)){const e=setTimeout((()=>b(null)),5e3);return()=>clearTimeout(e)}}),[y]);const v=async()=>{f(!0),b(null);try{const e=await c.getConfiguration();l({wcagVersion:e.wcagVersion||"2.2",wcagLevel:e.wcagLevel||"AA",emailEnabled:"true"===String(e.emailEnabled),emailRecipients:e.emailRecipients||"",emailFrom:e.emailFrom||"noreply@easya11y.com",emailOnViolations:"false"!==String(e.emailOnViolations),emailDigest:"false"!==String(e.emailDigest),scanScheduleEnabled:"true"===String(e.scanScheduleEnabled),scanScheduleCron:e.scanScheduleCron||"0 0 9 * * MON",scheduleFrequency:e.scheduleFrequency||"weekly",serverSideScan:"false"!==String(e.serverSideScan),scanPaths:e.scanPaths||"",excludePaths:e.excludePaths||""})}catch(e){b({type:"error",message:`Error loading configuration: ${e instanceof Error?e.message:"Unknown error"}`})}finally{f(!1)}};return n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(i,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading configuration..."})]})}):a.jsxs("div",{className:"container max-w-3xl mx-auto py-8 px-4",children:[y&&a.jsxs(r,{className:"mb-6 "+("success"===y.type?"border-green-600":"border-destructive"),children:["success"===y.type?a.jsx(t,{className:"h-4 w-4 text-green-600"}):a.jsx(M,{className:"h-4 w-4"}),a.jsx(d,{className:"success"===y.type?"text-green-600":"",children:y.message})]}),a.jsxs("form",{onSubmit:s=>{s.preventDefault(),(async()=>{j(!0),b(null);try{await c.saveConfiguration(e),b({type:"success",message:"Configuration saved successfully"})}catch(s){b({type:"error",message:`Error saving configuration: ${s instanceof Error?s.message:"Unknown error"}`})}finally{j(!1)}})()},children:[a.jsxs(o,{children:[a.jsxs(h,{children:[a.jsx(m,{children:"WCAG Accessibility Settings"}),a.jsx(u,{children:"Configure default settings for accessibility scanning"})]}),a.jsxs(x,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(N,{htmlFor:"wcagVersion",children:"Default WCAG Version"}),a.jsxs(C,{value:e.wcagVersion,onValueChange:s=>l({...e,wcagVersion:s}),disabled:g,children:[a.jsx(E,{id:"wcagVersion",children:a.jsx(F,{})}),a.jsxs(A,{children:[a.jsx(P,{value:"2.0",children:"WCAG 2.0"}),a.jsx(P,{value:"2.1",children:"WCAG 2.1"}),a.jsx(P,{value:"2.2",children:"WCAG 2.2"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default WCAG version for accessibility checks"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(N,{htmlFor:"wcagLevel",children:"Default WCAG Conformance Level"}),a.jsxs(C,{value:e.wcagLevel,onValueChange:s=>l({...e,wcagLevel:s}),disabled:g,children:[a.jsx(E,{id:"wcagLevel",children:a.jsx(F,{})}),a.jsxs(A,{children:[a.jsx(P,{value:"A",children:"Level A"}),a.jsx(P,{value:"AA",children:"Level AA"}),a.jsx(P,{value:"AAA",children:"Level AAA"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default conformance level for accessibility checks"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(K,{id:"serverSideScan",checked:e.serverSideScan,onCheckedChange:s=>l({...e,serverSideScan:s}),disabled:g}),a.jsx(N,{htmlFor:"serverSideScan",children:"Use server-side scanning"})]}),a.jsx("p",{className:"text-sm text-muted-foreground ml-8",children:"Run accessibility scans on the server instead of in the browser (recommended for scheduled scans)"})]})]}),a.jsxs(o,{className:"mt-6",children:[a.jsxs(h,{children:[a.jsxs(m,{className:"flex items-center gap-2",children:[a.jsx(L,{className:"h-5 w-5"}),"Email Notification Settings"]}),a.jsx(u,{children:"Configure email notifications for accessibility violations"})]}),a.jsxs(x,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(K,{id:"emailEnabled",checked:e.emailEnabled,onCheckedChange:s=>l({...e,emailEnabled:s}),disabled:g}),a.jsx(N,{htmlFor:"emailEnabled",children:"Enable email notifications"})]}),e.emailEnabled&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(N,{htmlFor:"emailRecipients",children:"Recipients"}),a.jsx(O,{id:"emailRecipients",placeholder:"user1@example.com, user2@example.com",value:e.emailRecipients,onChange:s=>l({...e,emailRecipients:s.target.value}),disabled:g,rows:3}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Comma-separated list of email addresses"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(N,{htmlFor:"emailFrom",children:"From Address"}),a.jsx(R,{id:"emailFrom",type:"email",value:e.emailFrom,onChange:s=>l({...e,emailFrom:s.target.value}),disabled:g}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sender email address for notifications"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(K,{id:"emailOnViolations",checked:e.emailOnViolations,onCheckedChange:s=>l({...e,emailOnViolations:s}),disabled:g}),a.jsx(N,{htmlFor:"emailOnViolations",children:"Send email for each page with violations"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(K,{id:"emailDigest",checked:e.emailDigest,onCheckedChange:s=>l({...e,emailDigest:s}),disabled:g}),a.jsx(N,{htmlFor:"emailDigest",children:"Send digest email for batch scans"})]})]})]})]})]}),a.jsxs(o,{className:"mt-6",children:[a.jsxs(h,{children:[a.jsxs(m,{className:"flex items-center gap-2",children:[a.jsx(V,{className:"h-5 w-5"}),"Scheduled Scanning"]}),a.jsx(u,{children:"Configure automated accessibility scans"})]}),a.jsxs(x,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(K,{id:"scanScheduleEnabled",checked:e.scanScheduleEnabled,onCheckedChange:s=>l({...e,scanScheduleEnabled:s}),disabled:g}),a.jsx(N,{htmlFor:"scanScheduleEnabled",children:"Enable scheduled scans"})]}),e.scanScheduleEnabled&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(N,{htmlFor:"scheduleFrequency",children:"Scan Frequency"}),a.jsxs(C,{value:e.scheduleFrequency,onValueChange:s=>{const a=s;let n=e.scanScheduleCron;switch(a){case"daily":n="0 0 9 * * *";break;case"weekly":n="0 0 9 * * MON";break;case"monthly":n="0 0 9 1 * *"}l({...e,scheduleFrequency:a,scanScheduleCron:"custom"!==a?n:e.scanScheduleCron})},disabled:g,children:[a.jsx(E,{id:"scheduleFrequency",children:a.jsx(F,{})}),a.jsxs(A,{children:[a.jsx(P,{value:"daily",children:"Daily"}),a.jsx(P,{value:"weekly",children:"Weekly"}),a.jsx(P,{value:"monthly",children:"Monthly"}),a.jsx(P,{value:"custom",children:"Custom"})]})]})]}),"custom"===e.scheduleFrequency&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(N,{htmlFor:"scanScheduleCron",children:"Custom Schedule (Cron Expression)"}),a.jsx(R,{id:"scanScheduleCron",value:e.scanScheduleCron,onChange:s=>l({...e,scanScheduleCron:s.target.value}),disabled:g,placeholder:"0 0 9 * * MON"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Example: 0 0 9 * * MON (Every Monday at 9:00 AM)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(N,{htmlFor:"scanPaths",children:"Paths to Scan"}),a.jsx(O,{id:"scanPaths",placeholder:"/home, /products, /about",value:e.scanPaths,onChange:s=>l({...e,scanPaths:s.target.value}),disabled:g,rows:3}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Comma-separated list of paths to scan. Leave empty to scan all pages."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(N,{htmlFor:"excludePaths",children:"Paths to Exclude"}),a.jsx(O,{id:"excludePaths",placeholder:"/admin, /internal, /temp",value:e.excludePaths,onChange:s=>l({...e,excludePaths:s.target.value}),disabled:g,rows:3}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Comma-separated list of paths to exclude from scanning."})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[a.jsxs(p,{type:"button",variant:"outline",onClick:v,disabled:g,children:[a.jsx(q,{className:"mr-2 h-4 w-4"}),"Reset"]}),a.jsx(p,{type:"submit",disabled:g,children:g?a.jsxs(a.Fragment,{children:[a.jsx(i,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Configuration"]})})]})]})]})}K.displayName=$.displayName;const Y=document.getElementById("root");if(Y){f(Y).render(a.jsx(g.StrictMode,{children:a.jsx(j,{children:a.jsx(Q,{})})}))}
